<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administraci贸n | ACIKY</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="icon" href="../images/black.png" type="image/x-icon">
</head>
<body>
    <!-- Header will be inserted by common.js -->
    <main>
        <div class="admin-container">
            <h1>Panel de Administraci贸n</h1>
            
            <div class="admin-tabs">
                <button class="admin-tab active" data-tab="blog">Art铆culos de Blog</button>
                <button class="admin-tab" data-tab="activities">Clases y Actividades</button>
                <button class="admin-tab" data-tab="routes">Rutas Doradas</button>
                <button class="admin-tab" data-tab="testimonials">Testimonios</button>
                <button class="admin-tab" data-tab="gallery">Galer铆a</button>
                <button class="admin-tab" data-tab="spaces">Espacios</button>
                <button class="admin-tab" data-tab="users">Usuarios</button>
            </div>

            <!-- Blog Posts Tab -->
            <div id="blog-tab" class="tab-content active">
                <div class="admin-header">
                    <h2>Gesti贸n de Art铆culos</h2>
                    <button class="btn-primary" onclick="openBlogModal()">+ Nuevo Art铆culo</button>
                </div>
                <div id="blogList" class="loading">Cargando art铆culos...</div>
            </div>

            <!-- Activities Tab -->
            <div id="activities-tab" class="tab-content">
                <div class="admin-header">
                    <h2>Gesti贸n de Clases</h2>
                    <button class="btn-primary" onclick="openActivityModal()">+ Nueva Clase</button>
                </div>
                <div id="activitiesList" class="loading">Cargando clases...</div>
            </div>

            <!-- Routes Tab -->
            <div id="routes-tab" class="tab-content">
                <div class="admin-header">
                    <h2>Gesti贸n de Rutas Doradas</h2>
                    <button class="btn-primary" onclick="openRouteModal()">+ Nueva Ruta</button>
                </div>
                <div id="routesList" class="loading">Cargando rutas...</div>
            </div>

            <!-- Testimonials Tab -->
            <div id="testimonials-tab" class="tab-content">
                <div class="admin-header">
                    <h2>Gesti贸n de Testimonios</h2>
                    <div class="testimonial-filters">
                        <button class="filter-btn active" data-status="all">Todos</button>
                        <button class="filter-btn" data-status="pending">Pendientes</button>
                        <button class="filter-btn" data-status="approved">Aprobados</button>
                    </div>
                </div>
                <div id="testimonialsList" class="loading">Cargando testimonios...</div>
            </div>

            <!-- Gallery Tab -->
            <div id="gallery-tab" class="tab-content">
                <div class="admin-header">
                    <h2>Gesti贸n de Galer铆a</h2>
                    <div class="admin-actions">
                        <select id="galleryCategoryFilter" class="filter-select">
                            <option value="">Todas las categor铆as</option>
                            <option value="posturas">Posturas B谩sicas</option>
                            <option value="mudras">Mudras B谩sicos</option>
                        </select>
                        <button class="btn-primary" onclick="openGalleryModal()">+ Nueva Imagen</button>
                    </div>
                </div>
                <div id="galleryList" class="loading">Cargando im谩genes...</div>
            </div>

            <!-- Spaces Tab -->
            <div id="spaces-tab" class="tab-content">
                <div class="admin-header">
                    <h2>Gesti贸n de Espacios</h2>
                    <button class="btn-primary" onclick="openSpaceModal()">+ Nuevo Espacio</button>
                </div>
                <div id="spacesList" class="loading">Cargando espacios...</div>
            </div>
        </div>

        <!-- Blog Post Modal -->
        <div id="blogModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="blogModalTitle">Nuevo Art铆culo</h2>
                    <span class="modal-close" onclick="closeBlogModal()">&times;</span>
                </div>
                <div class="error-message" id="blogError"></div>
                <div class="success-message" id="blogSuccess"></div>
                <form id="blogForm">
                    <input type="hidden" id="blogId">
                    <div class="form-group">
                        <label for="blogTitle">T铆tulo *</label>
                        <input type="text" id="blogTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="blogSlug">Slug (URL) *</label>
                        <input type="text" id="blogSlug" required>
                        <small>Ejemplo: mi-primer-articulo</small>
                    </div>
                    <div class="form-group">
                        <label for="blogExcerpt">Resumen</label>
                        <textarea id="blogExcerpt" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="blogContent">Contenido (HTML) *</label>
                        <textarea id="blogContent" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="blogCategory">Categor铆a</label>
                        <select id="blogCategory">
                            <option value="">Seleccionar...</option>
                            <option value="Noticias">Noticias</option>
                            <option value="Educaci贸n">Educaci贸n</option>
                            <option value="Eventos">Eventos</option>
                            <option value="Bienestar">Bienestar</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="blogTags">Tags (separados por coma)</label>
                        <input type="text" id="blogTags" placeholder="yoga,meditaci贸n,kundalini">
                    </div>
                    <div class="form-group">
                        <label for="blogImage">Imagen destacada (ruta)</label>
                        <input type="text" id="blogImage" placeholder="images/blog/articulo.jpg">
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="blogPublished">
                            Publicar art铆culo
                        </label>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" onclick="closeBlogModal()">Cancelar</button>
                        <button type="submit" class="btn-primary">Guardar</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Class Modal -->
        <div id="activityModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="activityModalTitle">Nueva Clase</h2>
                    <span class="modal-close" onclick="closeActivityModal()">&times;</span>
                </div>
                <div class="error-message" id="activityError"></div>
                <div class="success-message" id="activitySuccess"></div>
                <form id="activityForm">
                    <input type="hidden" id="activityId">
                    <div class="form-group">
                        <label for="activityName">Nombre de la clase *</label>
                        <input type="text" id="activityName" required>
                    </div>
                    <div class="form-group">
                        <label for="activityShortDesc">Descripci贸n corta</label>
                        <input type="text" id="activityShortDesc">
                    </div>
                    <div class="form-group">
                        <label for="activityDescription">Descripci贸n completa</label>
                        <textarea id="activityDescription" rows="4"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="activitySchedule">Horario *</label>
                        <input type="text" id="activitySchedule" placeholder="Lunes a Viernes 6:00 AM - 7:30 AM" required>
                    </div>
                    <div class="form-group">
                        <label for="activityDuration">Duraci贸n (minutos)</label>
                        <input type="number" id="activityDuration" min="0">
                    </div>
                    <div class="form-group">
                        <label for="activityLocation">Ubicaci贸n *</label>
                        <input type="text" id="activityLocation" placeholder="Centro ACIKY La Habana" required>
                    </div>
                    <div class="form-group">
                        <label for="activityInstructor">Instructor *</label>
                        <select id="activityInstructor" required>
                            <option value="">Selecciona un instructor...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="activityPrice">Precio</label>
                        <input type="number" id="activityPrice" step="0.01" min="0">
                    </div>
                    <div class="form-group">
                        <label for="activityIcon">Icono emoji</label>
                        <input type="text" id="activityIcon" placeholder="">
                    </div>
                    <div class="form-group">
                        <label for="activityLevel">Nivel de dificultad</label>
                        <select id="activityLevel">
                            <option value="todos">Todos los niveles</option>
                            <option value="principiante">Principiante</option>
                            <option value="intermedio">Intermedio</option>
                            <option value="avanzado">Avanzado</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="activityActive" checked>
                            Clase activa
                        </label>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="activityFeatured">
                            Clase destacada
                        </label>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" onclick="closeActivityModal()">Cancelar</button>
                        <button type="submit" class="btn-primary">Guardar</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Gallery Modal -->
        <div id="galleryModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="galleryModalTitle">Nueva Imagen</h2>
                    <span class="modal-close" onclick="closeGalleryModal()">&times;</span>
                </div>
                <form id="galleryForm">
                    <input type="hidden" id="galleryId">
                    <div class="form-group">
                        <label for="galleryTitle">T铆tulo *</label>
                        <input type="text" id="galleryTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="galleryDescription">Descripci贸n</label>
                        <textarea id="galleryDescription" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="galleryImageUrl">URL de Imagen *</label>
                        <input type="url" id="galleryImageUrl" placeholder="https://ejemplo.com/imagen.jpg" required>
                    </div>
                    <div class="form-group">
                        <label for="galleryThumbnailUrl">URL de Miniatura</label>
                        <input type="url" id="galleryThumbnailUrl" placeholder="Opcional, si no se usa la imagen principal">
                    </div>
                    <div class="form-group">
                        <label for="galleryCategory">Categor铆a *</label>
                        <select id="galleryCategory" required>
                            <option value="posturas">Posturas B谩sicas</option>
                            <option value="mudras">Mudras B谩sicos</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="galleryAltText">Texto alternativo</label>
                        <input type="text" id="galleryAltText" placeholder="Descripci贸n para accesibilidad">
                    </div>
                    <div class="form-group">
                        <label for="galleryDisplayOrder">Orden de visualizaci贸n</label>
                        <input type="number" id="galleryDisplayOrder" value="0" min="0">
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="galleryVisible" checked>
                            Visible en el sitio
                        </label>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" onclick="closeGalleryModal()">Cancelar</button>
                        <button type="submit" class="btn-primary">Guardar</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Route Modal -->
        <div id="routeModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="routeModalTitle">Nueva Ruta</h2>
                    <span class="modal-close" onclick="closeRouteModal()">&times;</span>
                </div>
                <div class="error-message" id="routeError"></div>
                <div class="success-message" id="routeSuccess"></div>
                <form id="routeForm">
                    <input type="hidden" id="routeId">
                    <div class="form-group">
                        <label for="routeName">Nombre de la Ruta *</label>
                        <input type="text" id="routeName" required placeholder="Ej: Ruta Nueva Gerona">
                    </div>
                    <div class="form-group">
                        <label for="routeOrigin">Origen *</label>
                        <input type="text" id="routeOrigin" required placeholder="Ej: La Habana">
                    </div>
                    <div class="form-group">
                        <label for="routeDestination">Destino *</label>
                        <input type="text" id="routeDestination" required placeholder="Ej: Isla de la Juventud - Nueva Gerona">
                    </div>
                    <div class="form-group">
                        <label for="routeDescription">Descripci贸n *</label>
                        <textarea id="routeDescription" rows="4" required placeholder="Describe la ruta y su impacto..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="routeFrequency">Frecuencia</label>
                        <input type="text" id="routeFrequency" placeholder="Ej: Anual, Mensual, Trimestral">
                    </div>
                    <div class="form-group">
                        <label for="routeStatus">Estado *</label>
                        <select id="routeStatus" required>
                            <option value="active">Activa</option>
                            <option value="planning">En Planificaci贸n</option>
                            <option value="inactive">Inactiva</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="routeParticipants">N煤mero de Participantes</label>
                        <input type="number" id="routeParticipants" min="0" value="0">
                    </div>
                    <div class="form-group">
                        <label for="routeSpaces">Espacios Establecidos</label>
                        <input type="number" id="routeSpaces" min="0" value="0">
                    </div>
                    <div class="form-group">
                        <label for="routeImageUrl">URL de Imagen</label>
                        <input type="url" id="routeImageUrl" placeholder="https://ejemplo.com/imagen.jpg">
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" onclick="closeRouteModal()">Cancelar</button>
                        <button type="submit" class="btn-primary">Guardar</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Space Modal -->
        <div id="spaceModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="spaceModalTitle">Nuevo Espacio</h2>
                    <span class="modal-close" onclick="closeSpaceModal()">&times;</span>
                </div>
                <div class="error-message" id="spaceError"></div>
                <div class="success-message" id="spaceSuccess"></div>
                <form id="spaceForm">
                    <input type="hidden" id="spaceId">
                    <div class="form-group">
                        <label for="spaceName">Nombre *</label>
                        <input type="text" id="spaceName" required>
                    </div>
                    <div class="form-group">
                        <label for="spaceImage">Imagen (ruta)</label>
                        <input type="text" id="spaceImage" placeholder="../../images/spaces/ejemplo.jpg">
                    </div>
                    <div class="form-group">
                        <label for="spaceAddress">Direcci贸n</label>
                        <textarea id="spaceAddress" rows="2"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="spacePhone">Tel茅fono</label>
                        <input type="text" id="spacePhone" placeholder="+53 5XXXXXXX">
                    </div>
                    <div class="form-group">
                        <label for="spaceEmail">Email</label>
                        <input type="email" id="spaceEmail">
                    </div>
                    <div class="form-group">
                        <label for="spaceLocation">Ubicaci贸n (Google Maps URL)</label>
                        <input type="url" id="spaceLocation" placeholder="https://maps.app.goo.gl/...">
                    </div>
                    <div class="form-group">
                        <label for="spaceInstructors">Instructores</label>
                        <select id="spaceInstructors" multiple size="5">
                            <option value="">Cargando instructores...</option>
                        </select>
                        <small>Mant茅n presionado Ctrl (Cmd en Mac) para seleccionar m煤ltiples instructores</small>
                    </div>
                    <div class="form-group">
                        <label for="spaceDisciplines">Disciplinas (una por l铆nea)</label>
                        <textarea id="spaceDisciplines" rows="4" placeholder="Kundalini Yoga&#10;Meditaci贸n&#10;Sonoterapia"></textarea>
                        <small>Escribe cada disciplina en una l铆nea nueva</small>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="spaceActive" checked>
                            Espacio activo
                        </label>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" onclick="closeSpaceModal()">Cancelar</button>
                        <button type="submit" class="btn-primary">Guardar</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- User Modal -->
        <div id="userModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="userModalTitle">Nuevo Usuario</h2>
                    <span class="modal-close" onclick="closeUserModal()">&times;</span>
                </div>
                <div class="error-message" id="userError"></div>
                <div class="success-message" id="userSuccess"></div>
                <form id="userForm">
                    <input type="hidden" id="userId">
                    <div class="form-group">
                        <label for="userUsername">Nombre de Usuario *</label>
                        <input type="text" id="userUsername" required>
                    </div>
                    <div class="form-group">
                        <label for="userEmail">Email *</label>
                        <input type="email" id="userEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="userPassword">Contrase帽a <span id="passwordLabel">*</span></label>
                        <input type="password" id="userPassword">
                        <small id="passwordHint">M铆nimo 6 caracteres</small>
                    </div>
                    <div class="form-group">
                        <label for="userRole">Rol *</label>
                        <select id="userRole" required>
                            <option value="user">Usuario</option>
                            <option value="instructor">Instructor</option>
                            <option value="admin">Administrador</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" onclick="closeUserModal()">Cancelar</button>
                        <button type="submit" class="btn-primary">Guardar</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Users Tab -->
        <div id="users-tab" class="tab-content">
            <div class="admin-header">
                <h2>Gesti贸n de Usuarios</h2>
                <button class="btn-primary" onclick="openUserModal()">+ Nuevo Usuario</button>
            </div>
            <div id="usersList" class="loading">Cargando usuarios...</div>
        </div>
    </main>

    <script src="../js/common.js"></script>
    <script src="../js/admin.js"></script>
</body>
</html>
